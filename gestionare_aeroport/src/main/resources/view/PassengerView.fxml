<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<BorderPane xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="OCSF.client.controller.PassengerController"
            prefHeight="650" prefWidth="1100">

    <left>
        <VBox spacing="10" prefWidth="200" style="-fx-background-color: #FFF;">
            <padding>
                <Insets top="10" left="10" bottom="10" right="10"/>
            </padding>
            <Label text="MENIU PASAGER" style="-fx-font-weight: bold;"/>
            <Button text="CAUTĂ ZBORURI" onAction="#showSearchFlightPane" prefWidth="180"/>
            <Button text="ZBORURILE MELE" onAction="#showMyFlightsPane" prefWidth="180"/>
            <Button text="BAGAJELE MELE" onAction="#showMyLuggagePane" prefWidth="180"/>
            <Region VBox.vgrow="ALWAYS" /> <Button text="LOGOUT" onAction="#handleLogout" prefWidth="180"
                                                   style="-fx-background-color: #fd6969; -fx-font-weight: bold;"/>
        </VBox>
    </left>

    <center>
        <StackPane fx:id="rightPane">

            <VBox fx:id="userInfoPane" spacing="10" >
                <padding>
                    <Insets top="10" left="10" bottom="10" right="10"/>
                </padding>
                <Label text="Informații Utilizator:" style="-fx-font-weight: bold;"/>
                <Label fx:id="userNameLabel" text="Nume: "/>
                <Label fx:id="userRoleLabel" text="Rol: "/>
            </VBox>

            <VBox fx:id="searchFlightPane" spacing="10" visible="false" managed="false">
                <padding>
                    <Insets top="10" left="10" bottom="10" right="10"/>
                </padding>

                <HBox spacing="10">
                    <Button text="AFIȘEAZĂ TOATE ZBORURILE" onAction="#showAllFlights"/>
                </HBox>

                <HBox spacing="10" alignment="CENTER_LEFT">
                    <TextField fx:id="departureField" promptText="Plecare din..." prefWidth="140"/>
                    <TextField fx:id="destinationField" promptText="Destinație..." prefWidth="140"/>
                    <VBox spacing="2">
                        <Label text="Data Plecare:" style="-fx-font-size: 9px;"/>
                        <DatePicker fx:id="datePicker" prefWidth="130"/>
                    </VBox>
                    <VBox spacing="2">
                        <Label text="Data Sosire:" style="-fx-font-size: 9px;"/>
                        <DatePicker fx:id="arrivalDatePicker" prefWidth="130"/>
                    </VBox>
                    <Button text="FILTREAZĂ" onAction="#handleFilter" style="-fx-background-color: #add8e6; -fx-font-weight: bold;"/>
                </HBox>

                <TableView fx:id="flightTable" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn fx:id="colCode" text="Cod Zbor" prefWidth="100"/>
                        <TableColumn fx:id="colDeparture" text="Plecare" prefWidth="130"/>
                        <TableColumn fx:id="colDestination" text="Destinație" prefWidth="130"/>
                        <TableColumn fx:id="colDate" text="Dată/Oră Plecare" prefWidth="170"/>
                        <TableColumn fx:id="colArrivalDate" text="Dată/Oră Sosire" prefWidth="170"/>
                        <TableColumn fx:id="colStatus" text="Status" prefWidth="110"/>
                    </columns>
                </TableView>

                <HBox spacing="20" alignment="CENTER_RIGHT">
                    <CheckBox fx:id="handBagCheck" text="Bagaj de mână (Gratuit)"/>
                    <CheckBox fx:id="holdBagCheck" text="Bagaj de cală (+50€)"/>
                    <Button text="CUMPĂRĂ BILET" fx:id="buyTicketButton" onAction="#handleBuyTicket"
                            style="-fx-background-color: #90ee90; -fx-font-weight: bold;"/>
                </HBox>
            </VBox>

            <VBox fx:id="myFlightsPane" spacing="10" visible="false" managed="false">
                <padding>
                    <Insets top="10" left="10" bottom="10" right="10"/>
                </padding>
                <Label text="Biletele mele de zbor:" style="-fx-font-weight: bold"/>
                <TableView fx:id="myFlightsTable" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn fx:id="colFlightCode" text="Cod Zbor" prefWidth="100"/>
                        <TableColumn fx:id="colSeat" text="Loc" prefWidth="80"/>
                        <TableColumn fx:id="colClass" text="Clasă" prefWidth="120"/>
                        <TableColumn fx:id="colPrice" text="Preț (€)" prefWidth="100"/>
                        <TableColumn fx:id="colPurchaseDate" text="Data Cumpărării" prefWidth="160"/>
                        <TableColumn fx:id="colPaymentStatus" text="Status Plată" prefWidth="120"/>
                    </columns>
                </TableView>
            </VBox>

            <VBox fx:id="myLuggagePane" spacing="10" visible="false" managed="false">
                <padding>
                    <Insets top="10" left="10" bottom="10" right="10"/>
                </padding>
                <Label text="Bagajele mele înregistrate:" style="-fx-font-weight: bold"/>
                <TableView fx:id="myLuggageTable" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn fx:id="colBagType" text="Tip Bagaj" prefWidth="120"/>
                        <TableColumn fx:id="colWeight" text="Greutate (kg)" prefWidth="100"/>
                        <TableColumn fx:id="colFlightCodeBag" text="Ref. Bilet" prefWidth="120"/>
                        <TableColumn fx:id="colStatusCheck" text="Status Check-in" prefWidth="150"/>
                    </columns>
                </TableView>
            </VBox>

        </StackPane>
    </center>

</BorderPane>
